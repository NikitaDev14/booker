<div header></div>
<div ng-controller="bookController as bkCtrl">
    <form class="form-horizontal" name="bookForm">
        <div class="form-group has-feedback" ng-hide="(bkCtrl.users == undefined)" ng-class="(bkCtrl.form.employee != undefined)? 'has-success' : 'has-error'">
            <label for="selectEmployee" class="col-sm-2 control-label">1.Booked for:</label>
            <div class="col-sm-4">
                <select class="form-control" id="selectEmployee" name="employee"  aria-describedby="employeeStatus" ng-model="employee">
                    <option ng-repeat="user in bkCtrl.users" value="{{user.idEmployee}}" ng-bind="user.Name"></option>
                </select>
            </div>
            <div class="col-sm-4">
                <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true" ng-show="(bkCtrl.form.employee != undefined)"></span>
                <span id="employeeStatus" class="sr-only" ng-show="(bkCtrl.form.employee != undefined)">(success)</span>
                <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" ng-show="(bkCtrl.form.employee == undefined)"></span>
                <span id="employeeStatus" class="sr-only" ng-show="(bkCtrl.form.employee == undefined)">(error)</span>
            </div>
        </div>
        <h4 ng-show="(bkCtrl.users == undefined)">1.Booked for: {{bkCtrl.user.name}}</h4>

        <div class="form-group has-feedback" ng-class="(bkCtrl.form.date >= bkCtrl.form.minDate)? 'has-success' : 'has-error'">
            <label for="inputDate" class="col-sm-2 control-label">2.I would like to book this meeting:</label>
            <div class="col-sm-4">
                <p class="input-group">
                <input type="text" class="form-control" id="inputDate" name="date" datepicker-popup="{{format}}" ng-model="date" is-open="opened" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
                </p>
            </div>
            <div class="col-sm-4">
                <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true" ng-show="bookForm.date.$valid"></span>
                <span id="inputDate" class="sr-only" ng-show="bookForm.date.$valid">(success)</span>
                <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" ng-show="bookForm.date.$invalid"></span>
                <span id="inputDate" class="sr-only" ng-show="bookForm.date.$invalid">(error)</span>
            </div>
        </div>
<!--
        <div class="form-group has-feedback" ng-class="(bookForm.start.$valid && bookForm.end.$valid)? 'has-success' : 'has-error'">
            <label for="inputDate" class="col-sm-2 control-label">3. Specify what the start and end of meeting (This will be what people see on the calendar).</label>
            <div class="col-sm-3">
                <timepicker id="inputStart" name="start" ng-model="start" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>

                <p ng-bind="start.getTime()"></p>
            </div>
            <div class="col-sm-3">
                <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true" ng-show="bookForm.start.$valid"></span>
                <span id="inputStart" class="sr-only" ng-show="bookForm.start.$valid">(success)</span>
                <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" ng-show="bookForm.start.$invalid"></span>
                <span id="inputStart" class="sr-only" ng-show="bookForm.start.$invalid">(error)</span>
            </div>
            <div class="col-sm-3">
                <timepicker id="inputEnd" name="end" ng-model="end" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>

                <p ng-bind="end.getTime()"></p>
            </div>
            <div class="col-sm-3">
                <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true" ng-show="bookForm.end.$valid"></span>
                <span id="inputEnd" class="sr-only" ng-show="bookForm.end.$valid">(success)</span>
                <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" ng-show="bookForm.end.$invalid"></span>
                <span id="inputEnd" class="sr-only" ng-show="bookForm.end.$invalid">(error)</span>
            </div>

        </div>
        -->

        
        <div>

            <timepicker ng-model="start" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>

            <p ng-bind="start.getTime()"></p>

            <timepicker ng-model="end" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>

            <p ng-bind="end.getTime()"></p>

        </div>
        

        <h4>Enter the specifics for the meeting. (This will be what people see when they click on an event link)</h4>

        <textarea ng-model="description"></textarea>

        <h4>5. Is this going to be a recurring event?</h4>

        <label class="radio-inline">
            <input type="radio" name="isRecurring" ng-model="isRecurring" value="1">
            Yes
        </label>
        <label class="radio-inline">
            <input type="radio" name="isRecurring" ng-model="isRecurring" value="0">
            No
        </label>

        <h4>6. If it is recurring, specify weekly, bi-weekly, or monthly.</h4>

        <label class="radio-inline">
            <input type="radio" name="recurring" ng-model="recurring" value="weekly">
            Weekly
        </label>
        <label class="radio-inline">
            <input type="radio" name="recurring" ng-model="recurring" value="bi-weekly">
            bi-weekly
        </label>
        <label class="radio-inline">
            <input type="radio" name="recurring" ng-model="recurring" value="monthly">
            monthly
        </label>

        If weekly or bi-weekly, specify the number of weeks for it to keep recurring. If monthly, specify the number of
        month. (If you choose "bi-weekly" and put in an odd number of weeks, the computer will round down).

        <input type="number" ng-init="1" max="4" ng-model="duration">duration (max 4 weeks)
        <button class="btn btn-primary" data-toggle="modal" data-target="#book" type="button" ng-click="bkCtrl.addEvent()">Submit</button>
    </form>

    <!-- Modal -->

    <div class="modal fade" id="book" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title text-center" id="myModalLabel">
                        {{bkCtrl.messHead}}</h4>
                </div>
                <div class="modal-body">
                    <p class="text-center">{{bkCtrl.messText}}</p>
                </div>
            </div>
        </div>
    </div>
</div>
